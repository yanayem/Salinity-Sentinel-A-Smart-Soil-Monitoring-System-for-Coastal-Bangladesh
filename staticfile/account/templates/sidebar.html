{% load static %}
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sidebar | Soil Monitor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="bg-gray-100 dark:bg-[#1e293b] text-gray-900 dark:text-gray-100">

<!-- Sidebar / Navbar -->
<nav class="fixed top-0 left-0 w-full md:w-64 h-16 md:h-screen bg-[#27374d] text-white flex flex-col shadow-lg z-50 transition-all">

  <!-- Mobile Top Bar -->
  <div class="flex items-center justify-between md:hidden px-4 h-16 bg-[#27374d] shadow">
    <div class="text-2xl font-bold text-blue-300">Soil Monitor</div>
    <button id="mobileMenuBtn" class="text-2xl focus:outline-none">
      <i class="fa fa-bars"></i>
    </button>
  </div>

  <!-- Sidebar Menu -->
  <div id="sidebarMenu" class="fixed md:relative top-16 lg:top-0 left-0 h-full w-64 bg-[#27374d] transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out overflow-y-auto z-40 md:z-auto">
    <div class="text-center py-6 border-b border-[#3a506b] md:block hidden">
      <span class="text-2xl font-bold text-blue-300">Soil Monitor</span>
    </div>

    <ul class="flex-1 flex flex-col mt-2 space-y-1">
      
      <!-- Dashboard -->
      <li class="{% if request.resolver_match.namespace == 'account' and request.resolver_match.url_name == 'dashboard' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'soildata:dashboard' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-tachometer text-blue-300"></i> Dashboard
        </a>
      </li>

      <!-- Soil Moisture -->
      <li class="{% if request.resolver_match.namespace == 'soildata' and request.resolver_match.url_name == 'soil_moisture' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'soildata:soil_moisture' %}" class="flex items-center gap-3 px-8 py-2 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-leaf text-green-400"></i> Soil Moisture
        </a>
      </li>

      <!-- Alerts -->
      <li class="{% if request.resolver_match.namespace == 'soildata' and request.resolver_match.url_name == 'alerts' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'soildata:alerts' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-bell text-yellow-400"></i> Alerts
        </a>
      </li>

      <!-- Crop Advisor -->
      <li class="{% if request.resolver_match.namespace == 'soildata' and request.resolver_match.url_name == 'crop_advisor' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'soildata:crop_advisor' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-leaf text-green-400"></i> Crop Advisor
        </a>
      </li>

      <!-- ChatBot -->
      <li class="{% if request.resolver_match.namespace == 'chat' and request.resolver_match.url_name == 'chat_new' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'chat_new' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-comments text-pink-400"></i> ChatBot Assistance
        </a>
      </li>

      <!-- Settings -->
      <li class="{% if request.resolver_match.namespace == 'account' and request.resolver_match.url_name == 'settingpage' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'account:settingpage' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-cog text-gray-300"></i> Settings
        </a>
      </li>

      <!-- Profile -->
      <li class="{% if request.resolver_match.namespace == 'account' and request.resolver_match.url_name == 'profilepage' %}bg-[#3a506b] font-semibold{% endif %} rounded-lg">
        <a href="{% url 'account:profilepage' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-[#3a506b] transition rounded-lg">
          <i class="fa fa-user text-gray-300"></i> Profile
        </a>
      </li>

      <!-- Logout -->
      <li>
        <a href="{% url 'account:logout' %}" class="flex items-center gap-3 px-5 py-3 hover:bg-red-600 hover:text-white transition rounded-lg">
          <i class="fa fa-sign-out text-red-400"></i> Logout
        </a>
      </li>

    </ul>
  </div>
</nav>

<script>
  const mobileBtn = document.getElementById('mobileMenuBtn');
  const sidebar = document.getElementById('sidebarMenu');

  mobileBtn.addEventListener('click', () => {
    sidebar.classList.toggle('-translate-x-full'); // slide in/out
  });
</script>

</body>
</html>
